&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	СписокКодов = КонтролируемыеОперацииПовтИсп.ПолучитьСписокВыбораКодыТипПредмета();
	Для каждого ЭлементСпискаКодов Из СписокКодов Цикл
		Элементы.КодПредмета.СписокВыбора.Добавить(ЭлементСпискаКодов.Значение, ЭлементСпискаКодов.Представление);
	КонецЦикла;

	СписокКодов = КонтролируемыеОперацииПовтИсп.ПолучитьСписокКодовСтран();
	Для каждого ЭлементСпискаКодов Из СписокКодов Цикл
		Элементы.КодСтраныПроисхождения.СписокВыбора.Добавить(ЭлементСпискаКодов.Значение, ЭлементСпискаКодов.Представление);
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
Процедура ПредметСделкиПриИзменении(Элемент)
	
	ПредметСделкиПриИзмененииНаСервере(Запись.ПредметСделки, Запись.КодПредмета);
	
КонецПроцедуры

&НаСервереБезКонтекста
Процедура ПредметСделкиПриИзмененииНаСервере(Номенклатура, КодПредмета)
	
	Тип = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Номенклатура, "ВидНоменклатуры.ТипНоменклатуры");
	
	Если Тип = Перечисления.ТипыНоменклатуры.Товар Тогда
		КодПредмета = "201";
	ИначеЕсли Тип = Перечисления.ТипыНоменклатуры.Услуга Тогда
		КодПредмета = "204";
	ИначеЕсли Тип = Перечисления.ТипыНоменклатуры.Работа Тогда
		КодПредмета = "207";	
	КонецЕсли;
	
КонецПроцедуры
